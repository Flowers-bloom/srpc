# SRPC
## 简介
个人维护开发的一个 RPC 项目，未来将作为简历上的项目经历，希望将其扩展得完善和强大。    

## 功能
项目开始于2020.11.01，以下是目前已实现的功能点  

|        功能点       |  完成时间   |  备注  |
| :----------------: | :--------: | :------------------: | 
| 实现基本的 RPC 通信 | 2020.11.10 | 网络通信接口，使用 Netty 进行实现，并借助 CompletableFuture 实现线程间通信；序列化接口，使用 FastJson 进行实现；远程方法调用，使用 JDK Proxy 类实现动态代理 |
| 实现 Netty 心跳检测及处理；实现 zookeeper 服务注册和发现，以及客户端随机负载均衡 | 2020.11.11 | 使用 Netty 自带心跳检测实现方式；在结点上注册 watcher 实现服务列表的动态更新 |  
| 实现 Netty 断线重连 | 2020.11.13 | 实现自定义有限次数重连策略；实现重连 handler ，采用异步方式连接远程主机，但会造成初始时客户端无法主动发送消息，因为 channel 虽然实例化了，但还未连接上远程主机 |

## 收获
- Netty
    - 更深刻地理解和学会如何使用 Netty 的异步结果返回
    - channel、pipeline、eventLoop 三者的关联，以及 pipeline 的结构和消息传递机制
    - 能更熟练地自定义通信协议
- Zookeeper
    - 大致了解和学会了 watcher 使用和特点

## 问题
1. 断线重连中，如果使用阻塞的连接远程主机方式，即 connect().sync()，远程主机不可达且设置了连接超时时间情况下，一直得不到返回结果。  

## TODO
正在努力开发中，以下是未来要加的一些 Feature    

|      Feature       |
| :---------------:  |
| 实现多种负载均衡策略 |
| 实现 RPC 调用监控器 Monitor |
| 实现链路跟踪和限流 |
| 实现同步和异步调用方式 |